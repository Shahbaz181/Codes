#include <stdio.h>
#include <stdlib.h>
#include <ctype.h>
#include <math.h>

#define MAX_SIZE 100

typedef struct {
    int arr[MAX_SIZE];
    int top;
} Stack;

void initialize(Stack *s) { s->top = -1; }
int isEmpty(Stack *s) { return s->top == -1; }
void push(Stack *s, int item) { s->arr[++(s->top)] = item; }
int pop(Stack *s) { return s->arr[(s->top)--]; }

int performOperation(char op, int a, int b) {
    switch (op) {
        case '+': return a + b;
        case '-': return a - b;
        case '*': return a * b;
        case '/': return a / b;
        case '^': return (int)pow(a, b);
        default: exit(1);
    }
}

int evaluatePostfix(char* exp) {
    Stack s; initialize(&s);
    for (int i = 0; exp[i] != '\0'; i++) {
        if (isdigit(exp[i])) push(&s, exp[i] - '0');
        else {
            int b = pop(&s), a = pop(&s);
            push(&s, performOperation(exp[i], a, b));
        }
    }
    return pop(&s);
}

int main() {
    char exp[MAX_SIZE];
    printf("Enter postfix expression: ");
    scanf("%s", exp);
    printf("Result: %d\n", evaluatePostfix(exp));
    return 0;
}
